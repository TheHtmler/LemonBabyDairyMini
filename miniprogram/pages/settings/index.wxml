<view class="settings-container">
  <view class="settings-group">
    <view class="settings-title">蛋白质参数设置</view>
    
    <view class="settings-item">
      <view class="item-label">母乳蛋白质浓度</view>
      <view class="item-input">
        <input 
          type="digit" 
          value="{{calculation_params.breast_milk_protein}}"
          data-field="breast_milk_protein"
          bindblur="updateParams"
        />
        <text class="unit">g/100ml</text>
      </view>
    </view>

    <view class="settings-item">
      <view class="item-label">特奶蛋白质浓度</view>
      <view class="item-input">
        <input 
          type="digit" 
          value="{{calculation_params.special_milk_protein}}"
          data-field="special_milk_protein"
          bindblur="updateParams"
        />
        <text class="unit">g/100g</text>
      </view>
    </view>

    <view class="settings-item">
      <view class="item-label">天然蛋白摄入系数</view>
      <view class="item-input">
        <input 
          type="digit" 
          value="{{calculation_params.natural_protein_coefficient}}"
          data-field="natural_protein_coefficient"
          bindblur="updateParams"
        />
        <text class="unit">g/kg</text>
      </view>
    </view>
  </view>

  <view class="settings-group">
    <view class="settings-title">特奶配比设置</view>
    
    <view class="settings-item">
      <view class="item-label">特奶粉量</view>
      <view class="item-input">
        <input 
          type="digit" 
          value="{{calculation_params.special_milk_ratio.powder}}"
          data-field="special_milk_ratio.powder"
          bindblur="updateParams"
        />
        <text class="unit">g</text>
      </view>
    </view>

    <view class="settings-item">
      <view class="item-label">冲调水量</view>
      <view class="item-input">
        <input 
          type="digit" 
          value="{{calculation_params.special_milk_ratio.water}}"
          data-field="special_milk_ratio.water"
          bindblur="updateParams"
        />
        <text class="unit">ml</text>
      </view>
    </view>
  </view>

  <view class="tips" wx:if="{{hasChanges}}">
    <text class="warning">您有未保存的更改哦~</text>
  </view>

  <view class="button-container">
    <button 
      class="save-button {{hasChanges ? 'active' : ''}}" 
      bindtap="saveSettings"
      disabled="{{!hasChanges}}"
    >
      <image 
        wx:if="{{hasChanges}}" 
        src="/images/icons/save-active.svg" 
        mode="aspectFit" 
        class="button-icon"
      ></image>
      保存设置
    </button>
  </view>
</view> 